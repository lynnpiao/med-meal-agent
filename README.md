# ğŸ¥— Med-Meal Agent

ä¸€ä¸ªåŸºäº **LangChain** æ„å»ºçš„åŒ»ç–—é£Ÿè°± Agentã€‚  
åŠŸèƒ½åŒ…æ‹¬ï¼š  
- æ ¹æ®ç”¨æˆ·å¥åº·ä¿¡æ¯ï¼ˆèº«é«˜ã€ä½“é‡ã€å¹´é¾„ã€ç–¾ç—…å²/è¿‡æ•å²/ä½“æ£€æŠ¥å‘Šï¼‰æ¨èä¸ªæ€§åŒ–é£Ÿè°±  
- æ”¯æŒå†°ç®±æ‰«æï¼ˆæˆ–æ‰‹åŠ¨è¾“å…¥åº“å­˜ï¼‰ï¼ŒåŒ¹é…å¯ç”¨é£Ÿæ  
- è‡ªåŠ¨ç”Ÿæˆä¸€å‘¨é£Ÿè°±è®¡åˆ’  
- æ ¹æ®åº“å­˜å·®é¢ç”Ÿæˆ**ç²¾ç¡®åˆ°é‡é‡**çš„è´­ç‰©æ¸…å•  

âš ï¸ **å…è´£å£°æ˜**ï¼šæœ¬é¡¹ç›®ä»…ç”¨äºæŠ€æœ¯æ¢ç´¢å’Œå­¦ä¹ ï¼Œä¸æ„æˆä»»ä½•åŒ»ç–—å»ºè®®ã€‚é¥®é£Ÿå’Œå¥åº·æ–¹æ¡ˆè¯·åŠ¡å¿…å’¨è¯¢åŒ»ç”Ÿæˆ–è¥å…»å¸ˆã€‚

---

## ğŸš€ åŠŸèƒ½æ¦‚è§ˆ
- **ç”¨æˆ·ç”»åƒç®¡ç†**ï¼šæ”¯æŒ TDEE/å®é‡è¥å…»è®¡ç®—ï¼Œç–¾ç—…çº¦æŸï¼ˆå¦‚é«˜è¡€å‹ã€ç³–å°¿ç—…ï¼‰  
- **èœè°±æ£€ç´¢ (RAG)**ï¼šåŸºäºå‘é‡æ•°æ®åº“ï¼ˆFAISS/Chromaï¼‰æ£€ç´¢èœè°±  
- **æ™ºèƒ½ Agent**ï¼šè°ƒç”¨å·¥å…·è¿›è¡Œï¼š
  - å†°ç®±æ‰«æè§£æ â†’ ç»“æ„åŒ–åº“å­˜
  - èœè°±æ£€ç´¢ + è¿‡æ»¤ï¼ˆè¿‡æ•åŸã€ç–¾ç—…çº¦æŸï¼‰
  - ä¸€å‘¨æ’é¤è§„åˆ’
  - å·®é¢é‡‡è´­æ¸…å•ç”Ÿæˆï¼ˆå«é‡é‡/æ•°é‡ï¼‰
- **API æœåŠ¡**ï¼šé€šè¿‡ FastAPI æä¾› REST æ¥å£

---

<details>
<summary>ğŸ“‚ ç›®å½•ç»“æ„ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary>

<pre>
&lt;pre&gt; med-meal-agent/
â”œâ”€ .env                                      # æœ¬åœ°æµ‹è¯•ç¯å¢ƒå˜é‡ï¼ˆç¤ºä¾‹ï¼›å‹¿æäº¤ï¼‰
â”œâ”€ i18n/
â”‚  â”œâ”€ base_dir/
â”‚  â”‚  â”œâ”€ allergens.json                      # åŸºç¡€è¯åº“æ˜ å°„(è¿‡æ•åŸæ˜ å°„)
â”‚  â”‚  â”œâ”€ conditions.json                     # åŸºç¡€è¯åº“æ˜ å°„(ç–¾ç—…/çŠ¶å†µæ˜ å°„)
â”‚  â”‚  â””â”€ ingredients.json                    # åŸºç¡€è¯åº“æ˜ å°„(é£Ÿææ˜ å°„)
â”‚  â”œâ”€ profile_enum_map.py                    # Profileå†…ä¸­è‹±æ˜ å°„è¯è¡¨ä¸å·¥å…·å‡½æ•°
â”‚  â”œâ”€ zh_lexicon.py                          # ä¸­è‹±æ˜ å°„è¯è¡¨ä¸å·¥å…·å‡½æ•°
â”‚  â”œâ”€ utils.py                               # norm zh format
â”‚  â””â”€ units.py                               # å•ä½ä¸æ•°å€¼æ¢ç®—ï¼ˆmmolâ†’mg/dLã€æ–¤/ä¸¤â†’g ç­‰ï¼‰
â”œâ”€ parsers/
â”‚  â”œâ”€ health_report_zh.py                    # ä¸­æ–‡ä½“æ£€æŠ¥å‘ŠæŠ½å– â†’ HealthReport ï¼ˆprompt ä¼˜åŒ–ï¼‰
â”‚  â”œâ”€ user_profiles_zh.py                    # ä¸­æ–‡userfileï¼ˆsex/activity/conditions/allergensï¼‰æŠ½å–
â”‚  â””â”€ base_dir/                              # æµ‹è¯•/æ¼”ç¤ºç”¨æ ·ä¾‹ç´ æ
â”‚     â”œâ”€ test.txt                            # OCR æ–‡æœ¬æ ·ä¾‹ --for monkeypath structure test
â”‚     â”œâ”€ test_zh.txt                         # OCR æ–‡æœ¬æ ·ä¾‹ -- for LLM live test
â”‚     â”œâ”€ test_first.png                      # å›¾ç‰‡æ ·ä¾‹ï¼ˆç¬¬ä¸€ä¸ªæ£€æŸ¥æŠ¥å‘Šï¼‰--for LLM live test
â”‚     â”œâ”€ test_second.png                     # å›¾ç‰‡æ ·ä¾‹ï¼ˆç¬¬äºŒä¸ªæ£€æŸ¥æŠ¥å‘Šï¼‰--for LLM live test
â”‚     â”œâ”€ test_second2.png                    # å›¾ç‰‡æ ·ä¾‹ï¼ˆç¬¬äºŒä¸ªæ£€æŸ¥æŠ¥å‘Šï¼‰--for LLM live test ï¼ˆ umol/Lï¼‰
â”‚     â”œâ”€ test11.jpg                          # å›¾ç‰‡æ ·ä¾‹ï¼ˆè¡€å‹é¡µï¼‰--for monkeypath structure test
â”‚     â””â”€ test22.jpg                          # å›¾ç‰‡æ ·ä¾‹ï¼ˆåŒ–éªŒé¡µï¼‰--for monkeypath structure test
â”œâ”€ data/
â”‚  â”œâ”€ recipes/                               # ç§å­èœè°± JSON
â”‚  â”œâ”€ embeddings/                            # å‘é‡åº“æŒä¹…åŒ–
â”‚  â”œâ”€ fetch_recipes.py                       # ä»Spoonacular API è·å–recipeï¼Œå¹¶ç”Ÿæˆç§å­èœè°±JSON
â”‚  â””â”€ zh_en_synonyms.yaml                    # ä¸­è‹±æ–‡èœè°±å†…éƒ¨è¯æ±‡äº’æ¢ï¼Œæ”¯æŒElasticSearchæŸ¥è¯¢
â”œâ”€ agents/
â”‚  â”œâ”€ tools.py                               # å·¥å…·å‡½æ•°ï¼ˆåº“å­˜è§£æã€æ¸…å•ç”Ÿæˆï¼‰
â”‚  â”œâ”€ planner.py                             # Agent è°ƒåº¦ä¸é£Ÿè°±è§„åˆ’
â”‚  â””â”€ constraints.py                         # è¥å…»/ç–¾ç—…çº¦æŸä¸æ‰“åˆ†è§„åˆ™
â”œâ”€ models/
â”‚  â””â”€ schemas.py                             # Pydantic æ•°æ®æ¨¡å‹
â”œâ”€ services/
â”‚  â”œâ”€ recipe_retriever.py                    # å‘é‡åº“æ„å»ºä¸æ£€ç´¢
â”‚  â”œâ”€ nutrition.py                           # è¥å…»è®¡ç®—è¾…åŠ©å‡½æ•°
â”‚  â”œâ”€ vision_inventory.py                    # åº“å­˜ç®¡ç†ï¼ˆå†°ç®±å›¾ç‰‡æ‰«æOCR- LLM or OWL-ViTï¼‰ 
â”‚  â””â”€ inventory.py                           # åº“å­˜ç®¡ç†ï¼ˆtext/è´­ç‰©å°ç¥¨OCRï¼‰ 
â”œâ”€ tests/                                    # å•å…ƒ/é›†æˆæµ‹è¯•
â”‚  â”œâ”€ conftest.py                            # pytest é…ç½®ï¼ˆåŠ è½½ .envã€æ³¨å†Œæ ‡è®°ç­‰ï¼‰
â”‚  â”œâ”€ test_models_userprofile_zh.py          # user profileç¦»çº¿/ä¼ªé€ æµ‹è¯•
â”‚  â”œâ”€ test_parsers_health_report_zh_full.py  # å…¨é‡é€»è¾‘çš„ç¦»çº¿/ä¼ªé€ æµ‹è¯•
â”‚  â”œâ”€ test_parsers_health_report_zh_live.py  # è°ƒçœŸå® LLM çš„ live æµ‹è¯•
â”‚  â”œâ”€ test_services_inventory.py             # å†°ç®±ç»“æ„åŒ–æ‰«æï¼ˆtextï¼‰
â”‚  â”œâ”€ test_services_vision_inventory.py      # å†°ç®±ç»“æ„åŒ–æ‰«æï¼ˆOCR-å†°ç®±å›¾ç‰‡ï¼‰
â”‚  â”œâ”€ test_i18n_lexicon.py                   # è¯åº“åŠ è½½/æ˜ å°„æµ‹è¯•
â”‚  â””â”€ test_i18n_units.py                     # å•ä½/æ•°å€¼æ¢ç®—æµ‹è¯•
â”œâ”€ app.py                                    # FastAPI æœåŠ¡å…¥å£
â”œâ”€ seed_recipes.py                           # æ„å»ºå‘é‡åº“è„šæœ¬ 
â”œâ”€ requirements.txt
â””â”€ README.md
&lt;/pre&gt;
</pre>
</details>